name: "Iacproject IAC"
on:
  push:
    branches:
      - main
      - stage
    paths:
      - 'terraform/**' 
  pull_request:
    branches:
      - main
    paths:
      - 'terraform/**'
env:
#Credentials for deployment to AWS
  AWS_ACCESS_KEY_ID: ${{ secrets.AWS_ACCESS_KEY_ID }}
  AWS_SECRET_ACCESS_KEY: ${{ secrets.AWS_SECRET_ACCESS_KEY }}
  # S3 bucket for Terraform state
  Bucket_TF_STATE: ${{ secrets.Bucket_TF_STATE }}
  AWS_REGION: us-east-1